<html>
<head>
<link rel="shortcut icon" href="https://prideout.net/assets/favicon.png">
<title>par_streamlines</title>
</head>
<body>

<style>
body {
    background-color: #f0f0f0;
    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
}
canvas {
    width: 300px;
    height: 150px;
    background-color: black;
}
</style>

<p>
Welcome.
</p>

<canvas id="simple"></canvas><hr>
<canvas id="wireframe"></canvas><hr>
<canvas id="gradient"></canvas><hr>

<script src="streamlines.js"></script>
<script>

            start_demo('simple', 0)
.then(() => start_demo('wireframe', 1))
.then(() => start_demo('gradient', 2));

function start_demo(canvas_id, demo_index) {
    return new Promise(function(resolve, reject) {
        Streamlines().then(function(wasm) {
            window.current_canvas = document.getElementById(canvas_id);
            window.current_demo = demo_index;
            wasm._main();
            const draw = () => {
                wasm._draw();
                window.requestAnimationFrame(draw);
            }
            draw();
            resolve();
        });
    });
}

</script>
</body>
</html>
